"use strict";(self.webpackChunkarchiprod=self.webpackChunkarchiprod||[]).push([[253],{1253:(E,x,a)=>{a.r(x),a.d(x,{ShopModule:()=>m});var t=a(6895),_=a(4065),y=a(3456),h=a(7579),u=a(5698),v=a(4004),O=a(2722),f=a(8324),e=a(4650),M=a(2419),s=a(77),d=a(1772),r=a(1572);function c(o,n){1&o&&e.\u0275\u0275element(0,"app-category-card",7),2&o&&e.\u0275\u0275property("category",n.$implicit)}function C(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"div",5),e.\u0275\u0275template(1,c,1,1,"app-category-card",6),e.\u0275\u0275elementEnd()),2&o){const i=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",i.categories)}}function g(o,n){1&o&&e.\u0275\u0275element(0,"app-type-card",9),2&o&&e.\u0275\u0275property("type",n.$implicit)}function b(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"div",5),e.\u0275\u0275template(1,g,1,1,"app-type-card",8),e.\u0275\u0275elementEnd()),2&o){const i=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",i.types)}}function I(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",3)(2,"h2"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,C,2,1,"div",4),e.\u0275\u0275template(5,b,2,1,"div",4),e.\u0275\u0275elementEnd()()),2&o){const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(i.title),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.categories),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.types)}}function S(o,n){1&o&&(e.\u0275\u0275elementStart(0,"div",10),e.\u0275\u0275element(1,"mat-spinner",11),e.\u0275\u0275elementEnd()),2&o&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("diameter",140))}class p{constructor(n,i,P){this.route=n,this.capitalizeFirstLetter=i,this.categoryService=P,this.title="",this.categoryName="",this.categories=[],this.types=[],this.loading=!1,this.destroy$=new h.x}ngOnInit(){this.loading=!0,this.route.params.subscribe(n=>{this.categoryName=n.category,this.title=this.categoryName?this.capitalizeFirstLetter.transform(this.categoryName):"Categories"}),this.categoryName?this.categoryService.getCategoryByName(this.title).pipe((0,u.q)(1)).subscribe(n=>{this.types=n.data.type,this.loading=!1}):this.getCategories()}getCategories(){this.categoryService.getAllCategories().pipe((0,v.U)(n=>n.data.map(i=>({id:i._id,name:i.name,image:i.image,type:i.type}))),(0,O.R)(this.destroy$)).subscribe(n=>{n.forEach(i=>{const P=i.name.toLowerCase();i.link="/shop/"+P}),this.categories=n,this.loading=!1})}}p.\u0275fac=function(n){return new(n||p)(e.\u0275\u0275directiveInject(y.gz),e.\u0275\u0275directiveInject(f.G),e.\u0275\u0275directiveInject(M.H))},p.\u0275cmp=e.\u0275\u0275defineComponent({type:p,selectors:[["app-categories"]],features:[e.\u0275\u0275ProvidersFeature([f.G])],decls:2,vars:2,consts:[["class","page-container",4,"ngIf"],["class","loading",4,"ngIf"],[1,"page-container"],[1,"categories"],["class","cards",4,"ngIf"],[1,"cards"],["class","card",3,"category",4,"ngFor","ngForOf"],[1,"card",3,"category"],["class","card",3,"type",4,"ngFor","ngForOf"],[1,"card",3,"type"],[1,"loading"],["color","accent",3,"diameter"]],template:function(n,i){1&n&&(e.\u0275\u0275template(0,I,6,3,"div",0),e.\u0275\u0275template(1,S,2,1,"div",1)),2&n&&(e.\u0275\u0275property("ngIf",!i.loading),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.loading))},dependencies:[t.sg,t.O5,s.$,d.a,r.Ou],styles:[".page-container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;min-height:90vh;padding-top:70px}.page-container[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:1600px;padding:48px 0;gap:24px}.page-container[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;gap:24px}.loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:90vh}@media only screen and (max-width: 1600px){.page-container[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]{max-width:1260px}}"]});const T=[{path:"",component:p},{path:":category",component:p},{path:":category/:type",component:p}];class l{}l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.\u0275\u0275defineNgModule({type:l}),l.\u0275inj=e.\u0275\u0275defineInjector({imports:[y.Bz.forChild(T),y.Bz]});var F=a(2106);class m{}m.\u0275fac=function(n){return new(n||m)},m.\u0275mod=e.\u0275\u0275defineNgModule({type:m}),m.\u0275inj=e.\u0275\u0275defineInjector({imports:[t.ez,_.m,l,F.S]})},77:(E,x,a)=>{a.d(x,{$:()=>s});var t=a(4650),_=a(5698),y=a(3456),h=a(2419),u=a(2660),v=a(6895);function O(d,r){if(1&d){const c=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",10)(1,"button",11),t.\u0275\u0275element(2,"i",12),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"button",13),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(c);const g=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(g.deleteCategory())}),t.\u0275\u0275element(4,"i",14),t.\u0275\u0275elementEnd()()}}function f(d,r){if(1&d&&(t.\u0275\u0275elementStart(0,"p",15),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&d){const c=r.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(c.typeName)}}function e(d,r){1&d&&(t.\u0275\u0275elementStart(0,"button",16),t.\u0275\u0275text(1,"Add type"),t.\u0275\u0275elementEnd())}function M(d,r){if(1&d){const c=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",1)(1,"div",2)(2,"h3",3),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,O,5,0,"div",4),t.\u0275\u0275elementStart(5,"img",5),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(c);const g=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(g.goToPage(g.category.link))}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"div",6)(7,"div",7),t.\u0275\u0275template(8,f,2,1,"p",8),t.\u0275\u0275template(9,e,2,0,"button",9),t.\u0275\u0275elementEnd()()()}if(2&d){const c=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(c.category.name),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",c.canEdit),t.\u0275\u0275advance(1),t.\u0275\u0275property("src",c.category.image,t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",c.category.type),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",c.canEdit)}}class s{constructor(r,c,C){this.router=r,this.categoryService=c,this.snack=C,this.canEdit=!1,this.deletedCategoryId=new t.EventEmitter}goToPage(r){this.router.navigate([r])}deleteCategory(){this.category.id&&this.categoryService.deleteCategory(this.category.id).pipe((0,_.q)(1)).subscribe(r=>{this.snack.openSnackBar(r.message,"success"),this.deletedCategoryId.emit(this.category.id)})}}s.\u0275fac=function(r){return new(r||s)(t.\u0275\u0275directiveInject(y.F0),t.\u0275\u0275directiveInject(h.H),t.\u0275\u0275directiveInject(u.c))},s.\u0275cmp=t.\u0275\u0275defineComponent({type:s,selectors:[["app-category-card"]],inputs:{category:"category",canEdit:"canEdit"},outputs:{deletedCategoryId:"deletedCategoryId"},decls:1,vars:1,consts:[["class","card-container",4,"ngIf"],[1,"card-container"],[1,"card-image"],[1,"name"],["class","button-icon-box",4,"ngIf"],["alt","image",1,"img",3,"src","click"],[1,"card-box"],[1,"card-text"],["class","type",4,"ngFor","ngForOf"],["class","btn btn-s btn-add",4,"ngIf"],[1,"button-icon-box"],[1,"btn-icon","btn-icon-white"],[1,"fa-regular","fa-pen-to-square"],[1,"btn-icon","btn-icon-danger",3,"click"],[1,"fa-solid","fa-xmark"],[1,"type"],[1,"btn","btn-s","btn-add"]],template:function(r,c){1&r&&t.\u0275\u0275template(0,M,10,5,"div",0),2&r&&t.\u0275\u0275property("ngIf",c.category)},dependencies:[v.sg,v.O5],styles:[".card-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-sizing:border-box;max-width:260px;height:480px;border-radius:6px;background:var(--light-grey);outline:2px solid var(--light-grey);cursor:pointer;transition:all .4s ease-in-out}.card-container[_ngcontent-%COMP%]:hover{box-shadow:6px 6px 6px #0003}.card-container[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;width:260px;border-radius:6px 6px 0 0}.card-container[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{position:absolute;font-size:18px;top:12px;padding:4px 12px;background-color:var(--white);border-radius:0 24px 24px 0}.card-container[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{border-radius:6px 6px 0 0;max-width:260px}.card-container[_ngcontent-%COMP%]   .card-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;max-width:260px;gap:12px;padding:24px}.card-container[_ngcontent-%COMP%]   .card-box[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:6px}.card-container[_ngcontent-%COMP%]   .card-box[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{font-size:16px}.btn-add[_ngcontent-%COMP%]{background-color:var(--accent)}.btn-add[_ngcontent-%COMP%]:hover{box-shadow:none;background-color:var(--accent-click)}.button-icon-box[_ngcontent-%COMP%]{display:flex;position:absolute;top:12px;right:12px;gap:4px}@media only screen and (max-width: 1600px){.card-container[_ngcontent-%COMP%]{max-width:220px;height:400px}.card-container[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]{width:220px}.card-container[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{max-width:220px}}"]})}}]);